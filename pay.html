<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LogicBank | Pay Beneficiary</title>
  <script src="https://kit.fontawesome.com/a2d1d5fda3.js" crossorigin="anonymous"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #0a0f2c;
      color: #fff;
      padding: 20px;
    }
    h1 {
      color: #00e1ff;
      text-align: center;
    }
    .form-group {
      margin-bottom: 10px;
    }
    label {
      display: block;
      margin-bottom: 4px;
    }
    input, select {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      background: #1e2a47;
      color: white;
    }
    button {
      background-color: #00e1ff;
      border: none;
      color: #000;
      padding: 12px 20px;
      margin-top: 10px;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
    }
    .beneficiaries {
      margin-top: 20px;
    }
    .beneficiary-item {
      background: #1e2a47;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
    .transfer-form {
      display: none;
      margin-top: 20px;
    }
    .receipt {
      background: #121829;
      padding: 20px;
      margin-top: 20px;
      border-radius: 12px;
      animation: slideIn 0.5s ease forwards;
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .success-icon {
      color: #00ff88;
      font-size: 30px;
    }
  </style>
</head>
<body>
  <h1><i class="fas fa-user-check"></i> Pay Beneficiary</h1>

  <div class="add-beneficiary">
    <h3><i class="fas fa-plus"></i> Add Beneficiary</h3>
    <div class="form-group">
      <label for="name">Beneficiary Name:</label>
      <input type="text" id="name" placeholder="e.g., Palesa Mokoena">
    </div>
    <div class="form-group">
      <label for="bank">Bank Name:</label>
      <select id="bank">
        <option value="Capitec">Capitec</option>
        <option value="FNB">FNB</option>
        <option value="ABSA">ABSA</option>
        <option value="Standard Bank">Standard Bank</option>
      </select>
    </div>
    <div class="form-group">
      <label for="account">Account Number:</label>
      <input type="text" id="account" placeholder="e.g., 1234567890">
    </div>
    <button onclick="addBeneficiary()">Add Beneficiary</button>
  </div>

  <div class="beneficiaries">
    <h3>Saved Beneficiaries</h3>
    <div id="beneficiary-list"></div>
  </div>

  <div class="transfer-form" id="transfer-form">
    <h3>Transfer Funds</h3>
    <p id="selected-beneficiary-info"></p>
    <div class="form-group">
      <label for="amount">Enter Amount:</label>
      <input type="number" id="amount" placeholder="e.g., 500">
    </div>
    <button onclick="transfer()">Send</button>
  </div>

  <div id="receipt-area"></div>

  <script>
    let beneficiaries = [];
    let selectedBeneficiary = null;
    let logicBankBalance = 450000;

    function addBeneficiary() {
      const name = document.getElementById('name').value;
      const bank = document.getElementById('bank').value;
      const account = document.getElementById('account').value;

      if (!name || !account) {
        alert("Please fill in all fields.");
        return;
      }

      const beneficiary = {
        name,
        bank,
        account
      };

      beneficiaries.push(beneficiary);
      renderBeneficiaries();
      document.getElementById('name').value = '';
      document.getElementById('account').value = '';
    }

    function renderBeneficiaries() {
      const list = document.getElementById('beneficiary-list');
      list.innerHTML = '';
      beneficiaries.forEach((b, index) => {
        const div = document.createElement('div');
        div.className = 'beneficiary-item';
        div.innerHTML = `<strong>${b.name}</strong> | ${b.bank} | ${b.account}`;
        div.onclick = () => selectBeneficiary(index);
        list.appendChild(div);
      });
    }

    function selectBeneficiary(index) {
      selectedBeneficiary = beneficiaries[index];
      document.getElementById('selected-beneficiary-info').innerText =
        `${selectedBeneficiary.name} - ${selectedBeneficiary.account} (${selectedBeneficiary.bank})\nBank Balance: R${logicBankBalance}`;
      document.getElementById('transfer-form').style.display = 'block';
    }

    function transfer() {
      const amount = parseFloat(document.getElementById('amount').value);
      if (!amount || amount <= 0 || amount > logicBankBalance) {
        alert("Invalid amount.");
        return;
      }

      logicBankBalance -= amount;
      document.getElementById('transfer-form').style.display = 'none';
      generateReceipt(amount);
    }

    function generateReceipt(amount) {
      const receiptArea = document.getElementById('receipt-area');
      const receipt = document.createElement('div');
      receipt.className = 'receipt';
      receipt.innerHTML = `
        <h3>âœ… Transfer Successful</h3>
        <p><strong>To:</strong> ${selectedBeneficiary.name}</p>
        <p><strong>Bank:</strong> ${selectedBeneficiary.bank}</p>
        <p><strong>Account:</strong> ${selectedBeneficiary.account}</p>
        <p><strong>Amount Sent:</strong> R${amount.toFixed(2)}</p>
        <p><strong>Remaining Balance:</strong> R${logicBankBalance.toFixed(2)}</p>
        <p class="success-icon"><i class="fas fa-check-circle"></i></p>
      `;
      receiptArea.innerHTML = '';
      receiptArea.appendChild(receipt);
    }
  </script>
</body>
</html>